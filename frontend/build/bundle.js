!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){angular.module("savvy",[e("angular-ui-router"),e("angular-cookies")]).config(["$httpProvider",function(e){e.interceptors.push("responseObserver")}]).run(["$rootScope","User","EVENTS","$state","$stateParams",function(e,t,r,n,o){e.$on("$stateChangeStart",function(o,i,a,s,u,c){t.getCurrentUser().then(function(e){i.requiresAuth?t.isAuthenticated()&&!t.isAuthorized(i.authorizedRoles)&&(o.preventDefault(),n.go("login",{event:r.notAuthorized})):"login"!==i.name&&"signup"!==i.name||(o.preventDefault(),n.go("home"),i.title="Home")},function(e){i.requiresAuth&&(o.preventDefault(),n.go("login",{event:r.notAuthenticated,returnUrl:i.name,redirect:!0}))}),e.title="Savvy | "+i.title}),google.charts.load("current",{packages:["line"]})}]).constant("events",{logoutSuccess:"auth-logout-success",loginSuccess:"auth-login-success",notAuthorized:"auth-not-authorized"}).constant("EVENTS",{logoutSuccess:"auth-logout-success",loginSuccess:"auth-login-success",notAuthorized:"auth-not-authorized",notAuthenticated:"auth-not-authenticated"}).constant("USER_ROLES",{user:"user",admin:"admin"}),{assets:{js:{"app.routes":e("./assets/js/app.routes.js"),directives:e("./assets/js/directives.js"),filters:e("./assets/js/filters.js"),services:e("./assets/js/services.js")}},components:{admin:{detailed_user_info:{detailed_user_info_controller:e("./components/admin/detailed_user_info/detailed_user_info_controller.js")},user_info:{user_info_controller:e("./components/admin/user_info/user_info_controller.js")}},app:{app_controller:e("./components/app/app_controller.js")},home:{home_controller:e("./components/home/home_controller.js")},login:{login_controller:e("./components/login/login_controller.js")},nav:{nav_controller:e("./components/nav/nav_controller.js")},product:{product_controller:e("./components/product/product_controller.js")},profile:{profile_controller:e("./components/profile/profile_controller.js")},receipt:{receipt_controller:e("./components/receipt/receipt_controller.js")},reset_password:{reset_password_controller:e("./components/reset_password/reset_password_controller.js")},search:{search_controller:e("./components/search/search_controller.js")},signup:{signup_controller:e("./components/signup/signup_controller.js")},submit:{submit_controller:e("./components/submit/submit_controller.js")}}}},{"./assets/js/app.routes.js":2,"./assets/js/directives.js":3,"./assets/js/filters.js":4,"./assets/js/services.js":5,"./components/admin/detailed_user_info/detailed_user_info_controller.js":6,"./components/admin/user_info/user_info_controller.js":7,"./components/app/app_controller.js":8,"./components/home/home_controller.js":9,"./components/login/login_controller.js":10,"./components/nav/nav_controller.js":11,"./components/product/product_controller.js":12,"./components/profile/profile_controller.js":13,"./components/receipt/receipt_controller.js":14,"./components/reset_password/reset_password_controller.js":15,"./components/search/search_controller.js":16,"./components/signup/signup_controller.js":17,"./components/submit/submit_controller.js":18,"angular-cookies":20,"angular-ui-router":21}],2:[function(e,t,r){angular.module("savvy").config(["$stateProvider","$urlRouterProvider","$locationProvider","$urlMatcherFactoryProvider",function(e,t,r,n){t.otherwise("/"),n.strictMode(!1),e.state("home",{url:"/",templateUrl:"frontend/components/home/home_view.html",controller:"home_controller",title:"Home"}).state("search",{url:"/search/:search_term",templateUrl:"frontend/components/search/search_view.html",controller:"search_controller",title:"Search",params:{search_term:{value:null,squash:!0}}}).state("submit",{url:"/submit",name:"submit",templateUrl:"frontend/components/submit/submit_view.html",controller:"submitCtrl",controllerAs:"submit",title:"Submit Price",authorizedRoles:["user","admin"],requiresAuth:!0}).state("product",{url:"/product/:product_id",templateUrl:"frontend/components/product/product_view.html",controller:"product_controller",controllerAs:"product",title:"Product Page",requiresAuth:!0,authorizedRoles:["user","admin"],params:{product_id:{value:null,squash:!0}}}).state("signup",{url:"/signup",templateUrl:"frontend/components/signup/signup_view.html",controller:"signupCtrl",controllerAs:"signup",title:"Sign Up"}).state("login",{url:"/login",templateUrl:"frontend/components/login/login_view.html",controller:"loginCtrl",controllerAs:"login",requiresAuth:!1,params:{event:"",returnUrl:"",redirect:!1},title:"Login"}).state("admin",{url:"/admin/dashboard",templateUrl:"frontend/components/admin/dash/dash_view.html",title:"Admin Dashboard"}).state("resetPassword",{url:"/reset_password/:reset_code",templateUrl:"frontend/components/reset_password/reset_password.html",controller:"resetPassCtrl",controllerAs:"resetPass",title:"Reset Your Password",params:{reset_code:{value:null,squash:!0}}}).state("userInfo",{url:"/admin/user-info",templateUrl:"frontend/components/admin/user_info/user_info_view.html",controller:"userInfoCtrl",controllerAs:"userInfo",title:"User Information"}).state("profile",{url:"/profile/:username",templateUrl:"frontend/components/profile/profile_view.html",controller:"profileCtrl",controllerAs:"profile",requiresAuth:!0,authorizedRoles:["user","admin"],title:"Profile",params:{username:{value:null,squash:!0}}}).state("faq",{url:"/faq",templateUrl:"frontend/components/faq/faq_view.html",title:"FAQs"}).state("demo",{url:"/demo",templateUrl:"frontend/components/demo/demo_view.html",title:"Demo"}).state("receipt",{url:"/receipt",templateUrl:"frontend/components/receipt/receipt_view.html",title:"Upload Receipt",controller:"receiptCtrl",controllerAs:"receipt",requiresAuth:!0,authorizedRoles:["user","admin"]})}])},{}],3:[function(e,t,r){angular.module("savvy").directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t,r){t.bind("change",function(t){var r=new FileReader;r.onload=function(t){e.$apply(function(){e.fileread=t.target.result})},r.readAsDataURL(t.target.files[0])})}}}]),angular.module("savvy").directive("handleSubmit",function(){return function(e,t,r){var n=t.find("input");t.bind("submit",function(){n[0].blur()})}}),angular.module("savvy").directive("ngEnter",function(){return function(e,t,r){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.ngEnter)}),t.preventDefault())})}}),angular.module("savvy").directive("googleChart",["googleService",function(e){return{restrict:"E",link:function(t,r,n){t.options={curveType:n.curveType,legend:{position:n.legend}},t.data=n.chartData,console.log(e.getVis()),e.getVis().then().arrayToDataTable();var o=e.get().visualization.arrayToDataTable(n.chartData),i=new google.visualization.LineChart(r);i.draw(o,options),$scope.status.chart="ready"}}}]),angular.module("savvy").directive("googleplace",function(){return{require:"ngModel",scope:{ngModel:"=",details:"=?"},link:function(e,t,r,n){var o=new google.maps.LatLngBounds(new google.maps.LatLng(39.952584,-75.165222),new google.maps.LatLng(39.952584,-75.165222)),i={types:["establishment"],componentRestrictions:{},bounds:o};e.gPlace=new google.maps.places.Autocomplete(t[0],i),google.maps.event.addListener(e.gPlace,"place_changed",function(){e.$apply(function(){e.details=e.gPlace.getPlace(),n.$setViewValue(t.val())})})}}})},{}],4:[function(e,t,r){angular.module("savvy").filter("orderObjectBy",function(){return function(e,t,r){var n=[];return angular.forEach(e,function(e){n.push(e)}),n.sort(function(e,r){return e[t]>r[t]?1:-1}),r&&n.reverse(),n}})},{}],5:[function(e,t,r){angular.module("savvy").service("productService",["$http","$q","utilityService",function(e,t,r){"use strict";var n=this;n.getProductById=function(t,r){return"undefined"==typeof r&&(r=10),e.get("/api/v1/products/"+t+"?price_limit="+r).then(function(e){return e.data})},n.getProductsByIds=function(e){for(var r=[],o=0;o<e.length;o++){var i=n.getProductById(e[o],5);r.push(i)}return t.all(r).then(function(e){return e})},n.getUniqueProductsByIds=function(e,t){"undefined"!=typeof t&&e.length>t&&(e.reverse(),e.length=t);var o=r.getUniqueArray("product_id",e);return n.getProductsByIds(o).then(function(t){return r.compareAndMergeObjectsByKey("product_id",e,t)})},this.getProductsByDesc=function(t){return""!==t?e.get("/api/v1/products/search?query="+t).then(function(e){return e.data}):void 0},this.saveProduct=function(t){return e({method:"POST",url:"/api/v1/prices/add",data:t,headers:{"Content-Type":"application/json"}}).then(function(e){return e.data})},n.saveProducts=function(e){for(var r=[],o=0;o<e.length;o++){var i=n.saveProduct(e[o]);r.push(i)}return t.all(r).then(function(e){return e})},this.saveVote=function(t,r){return t="up",-1===t&&(t="down"),"undefined"!=typeof r?e.post("/api/v1/products/"+r+"/thumbs-"+t).then(function(e){return e}):void 0},this.saveTag=function(t,r){return t&&""!==t?e.post("/api/v1/products/"+r+"/tag",{tag:t}).then(function(e){return e}):void 0},this.getProductsFromBase64Image=function(t){return e({method:"POST",url:"/api/v1/ocr/get-products-from-upload",data:{image:t}}).then(function(e){return e.data.products})}}]).service("adminService",["$http",function(e){var t=this;t.getAllUsers=function(){return e.get("/api/v1/users/all").then(function(e){return e.data.users})},t.deleteUser=function(t){return e.post("/api/v1/users/"+t+"/delete").then(function(e){return e})},t.getUserByUsername=function(t){return e({method:"GET",url:"/api/v1/users/",params:{username:t}}).then(function(e){return e.data.user},function(e){return e})}}]).factory("User",["$http","$q","$state","$rootScope","EVENTS","$cookies","cookieHandler",function(e,t,r,n,o,i,a){function s(){var s=this;s.userData=null,s.getCurrentUser=function(){var r=t.defer();return null!==s.userData?r.resolve(s.userData):i.getObject("user")?(s.userData=i.getObject("user"),r.resolve(s.userData)):i.get("user_token")?e.get("/api/v1/users/current").then(function(e){s.userData=e.data.user,r.resolve(e.data)},function(e){s.userData=null,r.reject(e)}):(r.reject(o.notAuthenticated),s.userData=null),r.promise},s.getUserRoles=function(){return s.userData.roles},s.getPriceSubmissions=function(r){var n=t.defer();return e.get("api/v1/users/"+r+"/submissions").then(function(e){n.resolve(e.data.user_submissions)},function(e){n.reject("api error")}),n.promise},s.getVotingHistory=function(t){return e.get("api/v1/users/"+t+"/voting-history").then(function(e){return e.data.voting_history})},s.createUser=function(t){return e({method:"POST",url:"api/v1/users/create",data:t,headers:{"Content-Type":"application/json"}}).then(function(e){return e.data})},s.isAuthenticated=function(){return null!==s.userData},s.isAuthorized=function(e){var t=!0;return s.isAuthenticated()?(angular.isArray(e)||(e=[e]),s.getUserRoles().forEach(function(r,n){console.log(e),console.log(r,e.indexOf(r)),-1===e.indexOf(r)&&(t=!1)})):t=!1,t},s.isAdmin=function(e){return-1!==e.roles.indexOf("admin")},s.login=function(t){return e({method:"POST",url:"api/v1/users/login",data:t,headers:{"Content-Type":"application/json"}}).then(function(e){return e.data.error?e.data:(i.putObject("user",e.data.user,{expires:a.getExpireDate()}),s.userData=e.data.user,n.$broadcast(o.loginSuccess),r.go("home"),e.data)})},s.logout=function(){return e.post("/api/v1/users/logout").then(function(e){return a.removeAllUserCookies(),s.userData=null,n.$broadcast(o.logoutSuccess),r.go("login"),e.data})},s.sendPasswordResetCode=function(t){return e.post("/api/v1/users/"+t+"/send-reset-code").then(function(e){return e})},s.resetPassword=function(t,r){return e({method:"POST",url:"/api/v1/users/reset-password",data:{reset_code:t,new_password:r}}).then(function(e){return e})},s.changePassword=function(t,r){return e({method:"POST",url:"/api/v1/users/"+t+"/change-password",data:{new_password:r}}).then(function(e){return e})},s.alterUser=function(t){return e({method:"POST",url:"/api/v1/users/alter",data:{user_id:t.user_id,first_name:t.first_name,email:t.email,roles:t.roles}}).then(function(e){return e})}}return new s}]).service("cookieHandler",["$cookies",function(e){"use strict";var t=this;t.getExpireDate=function(){var e=new Date;return e.setDate(e.getDate()+1),e.setHours(e.getHours()-5),e},t.removeAllUserCookies=function(){["user","username","user_token"].forEach(function(t,r){e.remove(t)})}}]).service("geolocationService",["$q","$window",function(e,t){"use strict";var r=this;r.currentPosition=null,r.getCurrentPosition=function(){var n=e.defer(),o=JSON.parse(t.sessionStorage.getItem("coordinates"));return t.navigator.geolocation||n.reject("Geolocation not supported."),null!==r.currentPosition?n.resolve(r.currentPosition):o?(r.currentPosition=o,n.resolve(r.currentPosition)):t.navigator.geolocation.getCurrentPosition(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};r.currentPosition=o,t.sessionStorage.setItem("coordinates",JSON.stringify(o)),n.resolve(r.currentPosition)},function(e){n.reject(e)}),n.promise}}]).service("stringReplace",function(){this.escapeRegExp=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},this.replaceAll=function(e,t,r){return e.replace(new RegExp(this.escapeRegExp(t),"g"),r)},this.truncateString=function(e,t,r){return r=r||"...","string"==typeof e&&e.length>t?e.substring(0,t)+r:e}}).service("utilityService",function(){var e=this;e.resizeArray=function(e,t){},e.removeMatchFromArray=function(e,t){for(var r=0;r<t.length;r++)e===t[r][e]&&t.splice(r,1);return t},e.arrayOfObjValues=function(e,t){for(var r=[],n=0;n<t.length;n++)r.push(t[n][e]);return r},e.dedupe=function(e){return uniqueArray=e.filter(function(t,r){return e.indexOf(t)==r})},e.getUniqueArray=function(t,r){return e.dedupe(e.arrayOfObjValues(t,r))},e.mergeObjects=function(e,t){for(var r in t)e[r]=t[r];return e},e.compareAndMergeObjectsByKey=function(t,r,n){for(var o=[],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)if(r[i][t]===n[a][t]){var s=e.mergeObjects(r[i],n[a]);o.push(s)}return o},e.filterOCRArray=function(t){for(var r=[],n=["description","price"],o=0;o<t.length;o++){var i=e.toObject(t[o],n);r.push(i)}return r},e.toObject=function(e,t){for(var r={},n=0;n<e.length;++n)r[t[n]]=e[n];return r},e.addKeyValueToObjects=function(e,t,r){for(var n=0;n<r.length;n++)r[n][e]=t;return r},e.copyObjToObj=function(e,t){return t?angular.copy(e,t):t=angular.copy(e),t}}).factory("responseObserver",["$q","$injector",function(e,t){return{responseError:function(t){switch(t.status){case 403:}return e.reject(t)}}}])},{}],6:[function(e,t,r){angular.module("savvy").controller("detailedUserInfoCtrl",["$scope","$state","User","$rootScope","EVENTS","adminService",function(e,t,r,n,o,i){function a(){}console.log(t),i.getUserByUsername("will").then(function(e){console.log(e)}),a()}])},{}],7:[function(e,t,r){angular.module("savvy").controller("userInfoCtrl",["$scope","$state","User","$rootScope","EVENTS","adminService","stringReplace","productService",function(e,t,r,n,o,i,a,s){function u(){f(),$.loaders=d(),$.message=p(),$.newUser=g(),$.newUserButton=m("Create New User","success"),$.selectedUser=null}function c(e,t){$.loaders[e].show=t}function l(e){var t=!1;for(var r in e)null===e[r]&&(t=!0);return t}function f(){i.getAllUsers().then(function(e){$.allUsers=e,console.log($.allUsers)})}function p(){var e={};return e.table=v(null,null,!1),e.detailedUserInfo=v(null,null,!1),e}function d(){var e={};return e.saveChanges=h(!1),e.dataTable=h(!1),e}function h(e){var t={};return t.show=e,t}function v(e,t,r){var n={};return n.text=e,n.status=t,n.show=r,n}function m(e,t){var r={};return r.text=e,r.status=t,r}function g(){var e={};return e.first_name=null,e.email=null,e.username=null,e.password=null,e}var $=this;u(),$.truncateString=function(e,t,r){return a.truncateString(e,t,r)},$.isAdmin=function(e){return null!==e?r.isAdmin(e):void 0},$.toggleAdmin=function(e){console.log(e)},$.createUser=function(e){l(e)?$.message.table=v("Please fill in all fields to create a new user","danger",!0):r.createUser(e).then(function(e){f(),$.newUser=g(),$.message.table=v("User successfully created!","success",!0),$.newUserButton=m("Create New User","success"),$.showNewUser=!1})},$.deleteUser=function(e){i.deleteUser(e).then(function(e){f(),$.message.table=v("User successfully deleted!","success",!0)})},$.sendPasswordResetCode=function(e){r.sendPasswordResetCode(e).then(function(t){$.message.table=v("Password reset code sent to "+e,"success",!0)})},$.displayNewUserFields=function(){"success"===$.newUserButton.status?($.newUserButton=m("Cancel Create New User","danger"),$.showNewUser=!0):"danger"===$.newUserButton.status&&($.newUserButton=m("Create New User","success"),$.showNewUser=!1),$.newUser=g()},$.displayDetailedUserInfo=function(e){$.selectedUser=e,c("dataTable",!1)},$.getDataTable=function(e){switch(c("saveChanges",!1),e.dataTableOption){case"priceHistory":"price_history"in e||(c("dataTable",!0),$.getUserPriceHistory(e.user_id));break;case"voteHistory":"detailed_voting_history"in e||(c("dataTable",!0),$.getUserVoteHistory(e.voting_history))}},$.getUserPriceHistory=function(e){r.getPriceSubmissions(e).then(function(e){e.length>0&&s.getUniqueProductsByIds(e,5).then(function(e){$.selectedUser.price_history=e,c("dataTable",!1)})})},$.getUserVoteHistory=function(e){s.getUniqueProductsByIds(e).then(function(e){$.selectedUser.detailed_voting_history=e,c("dataTable",!1)})},$.changePassword=function(e,t){r.changePassword(e,t).then(function(e){console.log(e)})},$.saveChanges=function(e){h("saveChanges",!0),e.new_password&&""!==e.new_password&&$.changePassword(e.user_id,e.new_password),r.alterUser(e).then(function(e){c("saveChanges",!1),$.message.detailedUserInfo=v("Changes Saved","success",!0)})}}])},{}],8:[function(e,t,r){angular.module("savvy").controller("appController",["$scope","User","$cookies",function(e,t,r){}])},{}],9:[function(e,t,r){function n(e,t,r){}n.$inject=["$scope","$state","User"],angular.module("savvy").controller("home_controller",n).$inject=["$scope","$state","User"]},{}],10:[function(e,t,r){angular.module("savvy").controller("loginCtrl",["$scope","$state","User","$rootScope","EVENTS","$stateParams",function(e,t,r,n,o,i){var a=this;!function(){a.events={notAuthenticated:t.params.event}}(),console.log(t.params),a.login=function(e){e.username&&r.login(e).then(function(e){e.error&&(console.log(e.error),a.events.loginFailed=e.error)})},n.$on(o.logoutSuccess,function(){a.events.logoutSuccess=!0}),n.$on(o.notAuthorized,function(){a.events.notAuthorized=!0}),n.$on(o.notAuthenticated,function(){a.events.notAuthenticated=!0})}])},{}],11:[function(e,t,r){angular.module("savvy").controller("navCtrl",["$scope","$state","User","$rootScope","EVENTS",function(e,t,r,n,o){function i(){e.state=t,e.show_mobile_nav=!1,a.isAuthenticated=!1,a.userData=null,r.getCurrentUser().then(function(e){a.userData=e,a.isAuthenticated=r.isAuthenticated(),a.isAdmin=r.isAdmin(e)})}var a=this;n.$on(o.logoutSuccess,function(){a.isAuthenticated=!1,a.isAdmin=!1,a.userData=null}),n.$on(o.loginFailure,function(){}),n.$on(o.loginSuccess,function(){r.getCurrentUser().then(function(e){a.userData=e,a.isAuthenticated=r.isAuthenticated(),a.isAdmin=r.isAdmin(e)})}),a.search=function(){""!==a.search_term&&a.search_term&&t.go("search",{search_term:a.search_term})},e.showMobileNav=function(){e.show_mobile_nav?e.show_mobile_nav=!1:e.show_mobile_nav=!0},e.logout=function(){r.logout()},i()}])},{}],12:[function(e,t,r){angular.module("savvy").controller("product_controller",["$scope","$stateParams","productService","geolocationService","$timeout","User",function(e,t,r,n,o,i){function a(t){console.log(e.vote.up,t),e.vote.up===!0&&1===t&&(console.log("inside"),e.vote.up=!1),1===t?(e.vote.up=!0,e.vote.down=!1):-1===t&&(e.vote.up=!1,e.vote.down=!0)}function s(t){r.getProductById(t,5).then(function(t){e.product=t,e.status.product="ready",u(n),p()})}function u(e){e.getCurrentPosition().then(function(e){c(e)})}function c(t){var r=new google.maps.Map(document.getElementById("map"),{center:{lat:t.latitude,lng:t.longitude},scrollwheel:!1,zoom:13});l(r),f(r,e.product.price_submissions),e.status.map="ready"}function l(e){var t=e.getCenter();o(function(){google.maps.event.trigger(e,"resize"),e.setCenter(t)},300)}function f(e,t){t.forEach(function(t,r){new google.maps.Marker({map:e,position:{lat:t.business_details.google_places.geometry.location.lat,lng:t.business_details.google_places.geometry.location.lng},title:t.business_details.name})})}function p(){google.charts.setOnLoadCallback(function(){var t=["Date","Average Price (USD)"],r=[];e.product.average_price_per_day.forEach(function(e,t){e[1]=e[1]/100,console.log(e),r.push(e)}),console.log(r),r.reverse().unshift(t),console.log(r);var n={width:"750",height:"250",curveType:"function",hAxis:{title:"Time"},vAxis:{title:"Average Price (USD)"},colors:["#00A388"],legend:{position:"bottom"}},o=new google.charts.Line(document.getElementById("prices-graph"));o.draw(google.visualization.arrayToDataTable(r),google.charts.Line.convertOptions(n)),e.status.chart="ready"})}var d=this;!function(){e.status={product:"loading",map:"loading"},e.vote={},e.product={},i.getCurrentUser().then(function(e){return i.getVotingHistory(e.user_id)}).then(function(e){d.getVoteForCurrentProduct(e)})}(),e.sendVote=function(t){a(t),r.saveVote(t,e.product.product_id)},d.getVoteForCurrentProduct=function(e){e.forEach(function(e,r){e.product_id===t.product_id&&a(e.vote)})},e.addTag=function(t,n){r.saveTag(t,n).then(function(r){e.product.tags.push(t)})},e.calcVote=function(t){e.vote.up,e.product.score=e.product.score+t},s(t.product_id)}])},{}],13:[function(e,t,r){angular.module("savvy").controller("profileCtrl",["$scope","User","$stateParams","productService","$q","adminService",function(e,t,r,n,o,i){function a(){s(r.username)}function s(e){i.getUserByUsername(e).then(function(e){e.status&&403===e.status?t.getCurrentUser().then(function(e){u.user=e}):u.user=e})}var u=this;u.user=null,u.status={},t.getCurrentUser().then(function(e){return u.user=e,t.getPriceSubmissions(e.user_id)}).then(function(e){var t=[],r=[];u.user_submissions=e,u.user_submissions.forEach(function(e){r.push(e.product_id)});var i=u.dedupeArray(r);i.forEach(function(e){t.push(n.getProductById(e,1))}),o.all(t).then(function(e){u.user_submissions.forEach(function(t){e.forEach(function(e){t.product_id===e.product_id&&(t.product=e)})}),u.status.price_history="ready"},function(e){})}),u.dedupeArray=function(e){return uniqueArray=e.filter(function(t,r){return e.indexOf(t)==r})},a()}])},{}],14:[function(e,t,r){angular.module("savvy").controller("receiptCtrl",["$scope","$state","productService","utilityService","User",function(e,t,r,n,o){function i(e,t,r){for(var o=[],i=0;i<e.length;i++){var a=n.copyObjToObj(e[i]);a.place_id=t,a.price=parseInt(100*parseFloat(a.price).toFixed(2)),o.push(a)}return o}function a(e,t,r){var n={};return n.text=e,n.status=t,n.show=r,n}function s(e,t){u.loader[e].show=t}var u=this;u.message=a(null,null,!1),u.loader={},u.loader.getProducts={},s("getProducts",!1),o.getCurrentUser().then(function(e){u.currentUser=e}),u.getProductsFromBase64Image=function(e){s("getProducts",!0),r.getProductsFromBase64Image(e).then(function(e){s("getProducts",!1);var t=n.filterOCRArray(e);t=n.addKeyValueToObjects("user",u.currentUser.user_id,t),u.productsFromImage=t})},u.saveProducts=function(e,t){processedProducts=i(t,e.place_id,e.business_name),r.saveProducts(processedProducts).then(function(e){u.message=a("Products Saved!","success",!0)})}}])},{}],15:[function(e,t,r){angular.module("savvy").controller("resetPassCtrl",["$scope","$state","User","$stateParams",function(e,t,r,n){function o(e,t,r){var n={};return n.text=e,n.status=t,n.show=r,n}var i=this;i.message=o(null,null,!1),null!==n.reset_code&&n.reset_code&&(i.reset_code=n.reset_code),i.sendPasswordResetCode=function(e){r.sendPasswordResetCode(e).then(function(t){i.message=o("Password reset code sent to "+e,"success",!0)})},i.resetPassword=function(e,t){r.resetPassword(e,t).then(function(e){i.message=o("Password successfully reset!","success",!0)})}}])},{}],16:[function(e,t,r){function n(e,t,r,n){e.initialize=function(){e.initializeData(),e.initializeOptions()},e.initializeData=function(){e.search_term=t.search_term,e.message="processing",r.get("/api/v1/products/search?query="+e.search_term).success(function(t,r,n,o){e.products=t,e.returned_results_length=e.products.length,e.message="success"}).error(function(t,r,n,o){e.status=r,e.message="error"})},e.initializeOptions=function(){e.order_options=[{name:"average_price",display_name:"Average Price: Low to High",order_reverse:!1},{name:"average_price",display_name:"Average Price: High to Low",order_reverse:!0},{name:"description",display_name:"Product Name: A to Z",order_reverse:!1},{name:"description",display_name:"Product Name: Z to A",order_reverse:!0}],e.chosen_order_item=e.order_options[0],e.orderBy()},e.orderBy=function(){e.order_item=e.chosen_order_item.name,e.order_reverse=e.chosen_order_item.order_reverse},e.initialize()}n.$inject=["$scope","$stateParams","$http","$state"],angular.module("savvy").controller("search_controller",n).$inject=["$scope","$stateParams","$http","$state"]},{}],17:[function(e,t,r){angular.module("savvy").controller("signupCtrl",["$scope","$state","User",function(e,t,r){var n=this;e.createUser=function(e){r.createUser(e).then(function(t){return r.login(e)})},n.compareInput=function(e,t){return!(e!==t||!e)}}])},{}],18:[function(e,t,r){function n(e,t,r){function n(){o(),a(),e.product=s(),i()}function o(){e.price="",document.getElementById("product-place").value=""}function i(){e.message="",e.messages={tag_message:"",save_message:""}}function a(){var t=new google.maps.LatLngBounds(new google.maps.LatLng(39.952584,-75.165222),new google.maps.LatLng(39.952584,-75.165222));autocomplete=new google.maps.places.Autocomplete(document.getElementById("product-place"),{bounds:t,types:["establishment"]}),google.maps.event.addListener(autocomplete,"place_changed",function(){console.log(autocomplete.getPlace()),e.product.place_id=autocomplete.getPlace().place_id,e.product.business_name=autocomplete.getPlace().name,e.$apply()})}function s(){var e={};return e.tags=[],e.image=null,document.getElementById("product-image").value="",e}e.submitPrice=function(){e.message="processing",e.product.price=parseInt(100*e.price.toFixed(2)),e.product.user="1",console.log(e.product),t.saveProduct(e.product).then(function(t){e.message="success",e.product=s(),o()},function(){e.message="error"})},e.addTag=function(){var t=e.product.tags.indexOf(e.tag);return""==e.tag?void(e.messages.tag_message="error-empty-input"):t>-1?void(e.messages.tag_message="error-already-entered"):(e.product.tags.push(e.tag),e.tag="",void(e.messages.tag_message=""))},e.searchProducts=function(r){r&&r.length>3?t.getProductsByDesc(r).then(function(t){e.products=t}):e.products=[]},e.selectProduct=function(t){e.product.description=t.description},n()}n.$inject=["$scope","productService","$filter"],angular.module("savvy").controller("submitCtrl",n).$inject=["$scope","productService","$filter"]},{}],19:[function(e,t,r){!function(e,t){"use strict";function r(e,r,n){function o(e,n,o){var a,s;o=o||{},s=o.expires,a=t.isDefined(o.path)?o.path:i,t.isUndefined(n)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",n=""),t.isString(s)&&(s=new Date(s));var u=encodeURIComponent(e)+"="+encodeURIComponent(n);u+=a?";path="+a:"",u+=o.domain?";domain="+o.domain:"",u+=s?";expires="+s.toUTCString():"",u+=o.secure?";secure":"";var c=u.length+1;return c>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),u}var i=n.baseHref(),a=e[0];return function(e,t,r){a.cookie=o(e,t,r)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},r,e):r}var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,n){return{get:function(e){return r()[e]},getObject:function(e){var r=this.get(e);return r?t.fromJson(r):r},getAll:function(){return r()},put:function(t,r,o){n(t,r,e(o))},putObject:function(e,r,n){this.put(e,t.toJson(r),n)},remove:function(t,r){n(t,void 0,e(r))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,r){e.putObject(t,r)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular)},{}],20:[function(e,t,r){e("./angular-cookies"),t.exports="ngCookies"},{"./angular-cookies":19}],21:[function(e,t,r){"undefined"!=typeof t&&"undefined"!=typeof r&&t.exports===r&&(t.exports="ui.router"),function(e,t,r){"use strict";function n(e,t){return M(new(M(function(){},{prototype:e})),t)}function o(e){return F(arguments,function(t){t!==e&&F(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function i(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function a(e){if(Object.keys)return Object.keys(e);var t=[];return F(e,function(e,r){t.push(r)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in e&&e[n]===t)return n;return-1}function u(e,t,r,n){var o,u=i(r,n),c={},l=[];for(var f in u)if(u[f]&&u[f].params&&(o=a(u[f].params),o.length))for(var p in o)s(l,o[p])>=0||(l.push(o[p]),c[o[p]]=e[o[p]]);return M({},c,t)}function c(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var o=0;o<r.length;o++){var i=r[o];if(e[i]!=t[i])return!1}return!0}function l(e,t){var r={};return F(e,function(e){r[e]=t[e]}),r}function f(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return F(r,function(r){r in e&&(t[r]=e[r])}),t}function p(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)-1==s(r,n)&&(t[n]=e[n]);return t}function d(e,t){var r=z(e),n=r?[]:{};return F(e,function(e,o){t(e,o)&&(n[r?n.length:o]=e)}),n}function h(e,t){var r=z(e)?[]:{};return F(e,function(e,n){r[n]=t(e,n)}),r}function v(e,t){var n=1,i=2,u={},c=[],l=u,f=M(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function d(e,r){if($[r]!==i){if(g.push(r),$[r]===n)throw g.splice(0,s(g,r)),new Error("Cyclic dependency: "+g.join(" -> "));if($[r]=n,B(e))m.push(r,[function(){return t.get(e)}],c);else{var o=t.annotate(e);F(o,function(e){e!==r&&u.hasOwnProperty(e)&&d(u[e],e)}),m.push(r,e,o)}g.pop(),$[r]=i}}function h(e){return N(e)&&e.then&&e.$$promises}if(!N(u))throw new Error("'invocables' must be an object");var v=a(u||{}),m=[],g=[],$={};return F(u,d),u=g=$=null,function(n,i,a){function s(){--w||(_||o(y,i.$$values),g.$$values=y,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,d.resolve(y))}function u(e){g.$$failure=e,d.reject(e)}function c(r,o,i){function c(e){f.reject(e),u(e)}function l(){if(!V(g.$$failure))try{f.resolve(t.invoke(o,a,y)),f.promise.then(function(e){y[r]=e,s()},c)}catch(e){c(e)}}var f=e.defer(),p=0;F(i,function(e){$.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(p++,$[e].then(function(t){y[e]=t,--p||l()},c))}),p||l(),$[r]=f.promise}if(h(n)&&a===r&&(a=i,i=n,n=null),n){if(!N(n))throw new Error("'locals' must be an object")}else n=l;if(i){if(!h(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=f;var d=e.defer(),g=d.promise,$=g.$$promises={},y=M({},n),w=1+m.length/3,_=!1;if(V(i.$$failure))return u(i.$$failure),g;i.$$inheritedValues&&o(y,p(i.$$inheritedValues,v)),M($,i.$$promises),i.$$values?(_=o(y,p(i.$$values,v)),
g.$$inheritedValues=p(i.$$values,v),s()):(i.$$inheritedValues&&(g.$$inheritedValues=p(i.$$inheritedValues,v)),i.then(s,u));for(var b=0,P=m.length;P>b;b+=3)n.hasOwnProperty(m[b])?s():c(m[b],m[b+1],m[b+2]);return g}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function m(e,t,r){this.fromConfig=function(e,t,r){return V(e.template)?this.fromString(e.template,t):V(e.templateUrl)?this.fromUrl(e.templateUrl,t):V(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return R(e)?e(t):e},this.fromUrl=function(r,n){return R(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function g(e,t,o){function i(t,r,n,o){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new J.Param(t,r,n,o),v[t]}function a(e,t,r,n){var o=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:o=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),o=["(?:/(",")|/)?"];break;default:o=["("+r+"|",")?"]}return i+o[0]+t+o[1]}function s(o,i){var a,s,u,c,l;return a=o[2]||o[3],l=t.params[a],u=e.substring(p,o.index),s=i?o[4]:o[4]||("*"==o[1]?".*":null),s&&(c=J.type(s)||n(J.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":r)})),{id:a,regexp:s,segment:u,type:c,cfg:l}}t=M({params:{}},N(t)?t:{});var u,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,d=this.segments=[],h=o?o.params:{},v=this.params=o?o.params.$$new():new J.ParamSet,m=[];this.source=e;for(var g,$,y;(u=c.exec(e))&&(g=s(u,!1),!(g.segment.indexOf("?")>=0));)$=i(g.id,g.type,g.cfg,"path"),f+=a(g.segment,$.type.pattern.source,$.squash,$.isOptional),d.push(g.segment),p=c.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var _=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),_.length>0)for(p=0;u=l.exec(_);)g=s(u,!0),$=i(g.id,g.type,g.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(y)+(t.strict===!1?"/?":"")+"$",d.push(y),this.regexp=new RegExp(f,t.caseInsensitive?"i":r),this.prefix=d[0],this.$$paramNames=m}function $(e){M(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function o(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function i(){return{strict:v,caseInsensitive:p}}function u(e){return R(e)||z(e)&&R(e[e.length-1])}function c(){for(;b.length;){var e=b.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],f.invoke(e.def))}}function l(e){M(this,e||{})}J=this;var f,p=!1,v=!0,m=!1,w={},_=!0,b=[],P={string:{encode:e,decode:o,is:function(e){return null==e||!V(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return V(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):r},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):r},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return V(e)&&(p=e),p},this.strictMode=function(e){return V(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!V(e))return m;if(e!==!0&&e!==!1&&!B(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new g(e,M(i(),t))},this.isMatcher=function(e){if(!N(e))return!1;var t=!0;return F(g.prototype,function(r,n){R(r)&&(t=t&&V(e[n])&&R(e[n]))}),t},this.type=function(e,t,r){if(!V(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new $(M({name:e},t)),r&&(b.push({name:e,def:r}),_||c()),this},F(P,function(e,t){w[t]=new $(M({name:t},e))}),w=n(w,{}),this.$get=["$injector",function(e){return f=e,_=!1,c(),F(P,function(e,t){w[t]||(w[t]=new $(e))}),this}],this.Param=function(e,n,o,i){function c(e){var t=N(e)?a(e):[],r=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return r&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(r,n,o){if(r.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:r.type?t.isString(r.type)?w[r.type]:r.type instanceof $?r.type:new $(r.type):"config"===o?w.any:w.string}function p(){var t={array:"search"===i?"auto":!1},r=e.match(/\[\]$/)?{array:!0}:{};return M(t,r,o).array}function v(e,t){var r=e.squash;if(!t||r===!1)return!1;if(!V(r)||null==r)return m;if(r===!0||B(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,n,o){var i,a,u=[{from:"",to:n||t?r:""},{from:null,to:n||t?r:""}];return i=z(e.replace)?e.replace:[],B(o)&&i.push({from:o,to:r}),a=h(i,function(e){return e.from}),d(u,function(e){return-1===s(a,e.from)}).concat(i)}function y(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(o.$$fn);if(null!==e&&e!==r&&!P.type.is(e))throw new Error("Default value ("+e+") for parameter '"+P.id+"' is not an instance of Type ("+P.type.name+")");return e}function _(e){function t(e){return function(t){return t.from===e}}function r(e){var r=h(d(P.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),V(e)?P.type.$normalize(e):y()}function b(){return"{Param:"+e+" "+n+" squash: '"+U+"' optional: "+j+"}"}var P=this;o=c(o),n=l(o,n,i);var S=p();n=S?n.$asArray(S,"search"===i):n,"string"!==n.name||S||"path"!==i||o.value!==r||(o.value="");var j=o.value!==r,U=v(o,j),A=g(o,S,j,U);M(this,{id:e,type:n,location:i,array:S,squash:U,replace:A,isOptional:j,value:_,dynamic:r,config:o,toString:b})},l.prototype={$$new:function(){return n(this,M(new l,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=a(l.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),F(t,function(t){F(a(t),function(t){-1===s(e,t)&&-1===s(n,t)&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return F(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return F(n.$$keys(),function(o){var i=e&&e[o],a=t&&t[o];n[o].type.equals(i,a)||(r=!1)}),r},$$validates:function(e){var n,o,i,a,s,u=this.$$keys();for(n=0;n<u.length&&(o=this[u[n]],i=e[u[n]],i!==r&&null!==i||!o.isOptional);n++){if(a=o.type.$normalize(i),!o.type.is(a))return!1;if(s=o.type.encode(a),t.isString(s)&&!o.type.pattern.exec(s))return!1}return!0},$$parent:r},this.ParamSet=l}function w(e,n){function o(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function a(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return V(n)?n:!0}function s(n,o,i,a,s){function p(e,t,r){return"/"===m?e:t?m.slice(0,-1)+e:r?m.slice(1)+e:e}function d(e){function t(e){var t=e(i,n);return t?(B(t)&&n.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){v&&n.url()===v;v=r;var o,a=c.length;for(o=0;a>o;o++)if(t(c[o]))return;l&&t(l)}}function h(){return u=u||o.$on("$locationChangeSuccess",d)}var v,m=a.baseHref(),g=n.url();return f||h(),{sync:function(){d()},listen:function(){return h()},update:function(e){return e?void(g=n.url()):void(n.url()!==g&&(n.url(g),n.replace()))},push:function(e,t,o){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),n.url(i),v=o&&o.$$avoidResync?n.url():r,o&&o.replace&&n.replace()},href:function(r,o,i){if(!r.validates(o))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var u=r.format(o);if(i=i||{},a||null===u||(u="#"+e.hashPrefix()+u),null!==u&&o&&o["#"]&&(u+="#"+o["#"]),u=p(u,a,i.absolute),!i.absolute||!u)return u;var c=!a&&u?"/":"",l=n.port();return l=80===l||443===l?"":":"+l,[n.protocol(),"://",n.host(),l,c,u].join("")}}}var u,c=[],l=null,f=!1;this.rule=function(e){if(!R(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(B(e)){var t=e;e=function(){return t}}else if(!R(e))throw new Error("'rule' must be a function");return l=e,this},this.when=function(e,t){var r,s=B(t);if(B(e)&&(e=n.compile(e)),!s&&!R(t)&&!z(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return s&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),M(function(r,n){return a(r,t,e.exec(n.path(),n.search()))},{prefix:B(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(r=t,t=["$match",function(e){return i(r,e)}]),M(function(r,n){return a(r,t,e.exec(n.path()))},{prefix:o(e)})}},c={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var l in c)if(c[l])return this.rule(u[l](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===r&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function _(e,o){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return r;var n=B(e),o=n?e:e.name,a=i(o);if(a){if(!t)throw new Error("No reference point given for path '"+o+"'");t=p(t);for(var s=o.split("."),u=0,c=s.length,l=t;c>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!l.parent)throw new Error("Path '"+o+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;s=s.slice(u).join("."),o=l.name+(l.name&&s?".":"")+s}var f=j[o];return!f||!n&&(n||f!==e&&f.self!==e)?r:f}function d(e,t){U[e]||(U[e]=[]),U[e].push(t)}function v(e){for(var t=U[e]||[];t.length;)m(t.shift())}function m(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!B(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(j.hasOwnProperty(r))throw new Error("State '"+r+"' is already defined");var o=-1!==r.indexOf(".")?r.substring(0,r.lastIndexOf(".")):B(t.parent)?t.parent:N(t.parent)&&B(t.parent.name)?t.parent.name:"";if(o&&!j[o])return d(o,t.self);for(var i in E)R(E[i])&&(t[i]=E[i](t,E.$delegates[i]));return j[r]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){S.$current.navigable==t&&c(e,r)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),v(r),t}function g(e){return e.indexOf("*")>-1}function $(e){for(var t=e.split("."),r=S.$current.name.split("."),n=0,o=t.length;o>n;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(s(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(s(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length!=r.length?!1:r.join("")===t.join("")}function y(e,t){return B(e)&&!V(t)?E[e]:R(t)&&B(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function w(e,t){return N(e)?t=e:t.name=e,m(t),this}function _(e,o,i,s,f,d,v,m,y){function w(t,r,n,i){var a=e.$broadcast("$stateNotFound",t,r,n);if(a.defaultPrevented)return v.update(),C;if(!a.retry)return null;if(i.$retry)return v.update(),O;var s=S.transition=o.when(a.retry);return s.then(function(){return s!==S.transition?U:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return C}),v.update(),s}function _(e,r,n,a,u,c){function p(){var r=[];return F(e.views,function(n,o){var a=n.resolve&&n.resolve!==e.resolve?n.resolve:{};a.$template=[function(){return i.load(o,{view:n,locals:u.globals,params:d,notify:c.notify})||""}],r.push(f.resolve(a,u.globals,u.resolve,e).then(function(r){if(R(n.controllerProvider)||z(n.controllerProvider)){var i=t.extend({},a,u.globals);r.$$controller=s.invoke(n.controllerProvider,null,i)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,u[o]=r}))}),o.all(r).then(function(){return u.globals})}var d=n?r:l(e.params.$$keys(),r),h={$stateParams:d};u.resolve=f.resolve(e.resolve,h,u.resolve,e);var v=[u.resolve.then(function(e){u.globals=e})];return a&&v.push(a),o.all(v).then(p).then(function(e){return u})}var U=o.reject(new Error("transition superseded")),E=o.reject(new Error("transition prevented")),C=o.reject(new Error("transition aborted")),O=o.reject(new Error("transition failed"));return P.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:P.self,$current:P,transition:null},S.reload=function(e){return S.transitionTo(S.current,d,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,r){return S.transitionTo(e,t,M({inherit:!0,relative:S.$current},r))},S.transitionTo=function(t,r,i){r=r||{},i=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var a,c=S.$current,f=S.params,h=c.path,m=p(t,i.relative),g=r["#"];if(!V(m)){var $={to:t,toParams:r,options:i},y=w($,c.self,f,i);if(y)return y;if(t=$.to,r=$.toParams,i=$.options,m=p(t,i.relative),!V(m)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(m[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(r=u(d,r||{},S.$current,m)),!m.params.$$validates(r))return O;r=m.params.$$values(r),t=m;var j=t.path,C=0,x=j[C],k=P.locals,q=[];if(i.reload){if(B(i.reload)||N(i.reload)){if(N(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var I=i.reload===!0?h[0]:p(i.reload);if(i.reload&&!I)throw new Error("No such reload state '"+(B(i.reload)?i.reload:i.reload.name)+"'");for(;x&&x===h[C]&&x!==I;)k=q[C]=x.locals,C++,x=j[C]}}else for(;x&&x===h[C]&&x.ownParams.$$equals(r,f);)k=q[C]=x.locals,C++,x=j[C];if(b(t,r,c,f,k,i))return g&&(r["#"]=g),S.params=r,L(S.params,d),L(l(t.params.$$keys(),d),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(v.push(t.navigable.url,r,{$$avoidResync:!0,replace:"replace"===i.location}),v.update(!0)),S.transition=null,o.when(S.current);if(r=l(t.params.$$keys(),r||{}),g&&(r["#"]=g),i.notify&&e.$broadcast("$stateChangeStart",t.self,r,c.self,f,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,r,c.self,f),null==S.transition&&v.update(),E;for(var D=o.when(k),T=C;T<j.length;T++,x=j[T])k=q[T]=n(k),D=_(x,r,x===t,D,k,i);var R=S.transition=D.then(function(){var n,o,a;if(S.transition!==R)return U;for(n=h.length-1;n>=C;n--)a=h[n],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(n=C;n<j.length;n++)o=j[n],o.locals=q[n],o.self.onEnter&&s.invoke(o.self.onEnter,o.self,o.locals.globals);return S.transition!==R?U:(S.$current=t,S.current=t.self,S.params=r,L(S.params,d),S.transition=null,i.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,r,c.self,f),v.update(!0),S.current)},function(n){return S.transition!==R?U:(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,r,c.self,f,n),a.defaultPrevented||v.update(),o.reject(n))});return R},S.is=function(e,t,n){n=M({relative:S.$current},n||{});var o=p(e,n.relative);return V(o)?S.$current!==o?!1:t?c(o.params.$$values(t),d):!0:r},S.includes=function(e,t,n){if(n=M({relative:S.$current},n||{}),B(e)&&g(e)){if(!$(e))return!1;e=S.$current.name}var o=p(e,n.relative);return V(o)?V(S.$current.includes[o.name])?t?c(o.params.$$values(t),d,a(t)):!0:!1:r},S.href=function(e,t,n){n=M({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},n||{});var o=p(e,n.relative);if(!V(o))return null;n.inherit&&(t=u(d,t||{},S.$current,o));var i=o&&n.lossy?o.navigable:o;return i&&i.url!==r&&null!==i.url?v.href(i.url,l(o.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(a(j),function(e){return j[e].self});var r=p(e,t||S.$current);return r&&r.self?r.self:null},S}function b(e,t,r,n,o,i){function a(e,t,r){function n(t){return"search"!=e.params[t].location}var o=e.params.$$keys().filter(n),i=f.apply({},[e.params].concat(o)),a=new J.ParamSet(i);return a.$$equals(t,r)}return!i.reload&&e===r&&(o===r.locals||e.self.reloadOnSearch===!1&&a(r,n,t))?!0:void 0}var P,S,j={},U={},A="abstract",E={parent:function(e){if(V(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):P},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=n(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(B(t))return"^"==t.charAt(0)?o.compile(t.substring(1),r):(e.parent.navigable||P).url.concat(t,r);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new J.ParamSet;return F(e.params||{},function(e,r){t[r]||(t[r]=new J.Param(r,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?M(e.parent.params.$$new(),t):new J.ParamSet},views:function(e){var t={};return F(V(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?M({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};P=m({name:"",url:"^",views:null,"abstract":!0}),P.navigable=null,this.decorator=y,this.state=w,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function b(){function e(e,t){return{load:function(e,r){var n,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=M(o,r),r.view&&(n=t.fromConfig(r.view,r.params,r.locals)),n}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function P(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,r,n,o){function i(){return r.has?function(e){return r.has(e)?r.get(e):null}:function(e){try{return r.get(e)}catch(t){return null}}}function a(e,r){function n(e){return 1===K&&G>=4?!!c.enabled(e):1===K&&G>=2?!!c.enabled():!!u}var o={enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return o;if(c)return{enter:function(e,r,i){n(e)?t.version.minor>2?c.enter(e,null,r).then(i):c.enter(e,null,r,i):o.enter(e,r,i)},leave:function(e,r){n(e)?t.version.minor>2?c.leave(e).then(r):c.leave(e,r):o.leave(e,r)}};if(u){var i=u&&u(r,e);return{enter:function(e,t,r){i.enter(e,null,t),r()},leave:function(e,t){i.leave(e),t()}}}return o}var s=i(),u=s("$animator"),c=s("$animate"),l={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,i,s){return function(r,i,u){function c(){function e(){t&&t.remove(),r&&r.$destroy()}var t=f,r=d;r&&(r._willBeDestroyed=!0),p?(g.leave(p,function(){e(),f=null}),f=p):(e(),f=null),p=null,d=null}function l(a){var l,f=U(r,u,i,o),$=f&&e.$current&&e.$current.locals[f];if((a||$!==h)&&!r._willBeDestroyed){l=r.$new(),h=e.$current.locals[f],l.$emit("$viewContentLoading",f);var y=s(l,function(e){g.enter(e,i,function(){d&&d.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||r.$eval(m))&&n(e)}),c()});p=y,d=l,d.$emit("$viewContentLoaded",f),d.$eval(v)}}var f,p,d,h,v=u.onload||"",m=u.autoscroll,g=a(u,r);r.$on("$stateChangeSuccess",function(){l(!1)}),l(!0)}}};return l}function j(e,t,r,n){return{restrict:"ECA",priority:-400,compile:function(o){var i=o.html();return function(o,a,s){var u=r.$current,c=U(o,s,a,n),l=u&&u.locals[c];if(l){a.data("$uiView",{name:c,state:l.$$state}),a.html(l.$template?l.$template:i);var f=e(a.contents());if(l.$$controller){l.$scope=o,l.$element=a;var p=t(l.$$controller,l);l.$$controllerAs&&(o[l.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}f(o)}}}}}function U(e,t,r,n){var o=n(t.uiView||t.name||"")(e),i=r.inheritedData("$uiView");return o.indexOf("@")>=0?o:o+"@"+(i?i.state.name:"")}function A(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function C(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function O(e,t,r,n,o){return function(i){var a=i.which||i.button,s=o();if(!(a>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var u=r(function(){t.go(s.state,s.params,s.options)});i.preventDefault();var c=n.isAnchor&&!s.href?1:0;i.preventDefault=function(){c--<=0&&r.cancel(u)}}}}function x(e,t){return{relative:E(e)||t.$current,inherit:!0}}function k(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,o,i,a){var s=A(i.uiSref,e.current.name),u={state:s.state,href:null,params:null},c=C(o),l=a[1]||a[0];u.options=M(x(o,e),i.uiSrefOpts?n.$eval(i.uiSrefOpts):{});var f=function(r){r&&(u.params=t.copy(r)),u.href=e.href(s.state,u.params,u.options),l&&l.$$addStateInfo(s.state,u.params),null!==u.href&&i.$set(c.attr,u.href)};s.paramExpr&&(n.$watch(s.paramExpr,function(e){e!==u.params&&f(e)},!0),u.params=t.copy(n.$eval(s.paramExpr))),f(),c.clickable&&o.bind("click",O(o,e,r,c,function(){return u}))}}}function q(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,o,i){function a(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),u&&u.$$addStateInfo(f.state,f.params),f.href&&o.$set(s.attr,f.href)}var s=C(n),u=i[1]||i[0],c=[o.uiState,o.uiStateParams||null,o.uiStateOpts||null],l="["+c.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};r.$watch(l,a,!0),a(r.$eval(l)),s.clickable&&n.bind("click",O(n,e,t,s,function(){return f}))}}}function I(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,n,o,i){function a(t,r,o){var i=e.get(t,E(n)),a=s(t,r);v.push({state:i||{name:t},params:r,hash:a}),m[a]=o}function s(e,r){if(!B(e))throw new Error("state should be a string");return N(r)?e+H(r):(r=t.$eval(r),N(r)?e+H(r):e)}function u(){for(var e=0;e<v.length;e++)f(v[e].state,v[e].params)?c(n,m[v[e].hash]):l(n,m[v[e].hash]),p(v[e].state,v[e].params)?c(n,d):l(n,d)}function c(e,t){i(function(){e.addClass(t)})}function l(e,t){e.removeClass(t)}function f(t,r){return e.includes(t.name,r)}function p(t,r){return e.is(t.name,r)}var d,h,v=[],m={};d=r(o.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(o.uiSrefActive)}catch(g){}h=h||r(o.uiSrefActive||"",!1)(t),N(h)&&F(h,function(r,n){if(B(r)){var o=A(r,e.current.name);a(o.state,t.$eval(o.paramExpr),n)}}),this.$$addStateInfo=function(e,t){N(h)&&v.length>0||(a(e,t,h),u())},t.$on("$stateChangeSuccess",u),u()}]}}function D(e){var t=function(t,r){return e.is(t,r)};return t.$stateful=!0,t}function T(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}var V=t.isDefined,R=t.isFunction,B=t.isString,N=t.isObject,z=t.isArray,F=t.forEach,M=t.extend,L=t.copy,H=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),v.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",v),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var J;g.prototype.concat=function(e,t){var r={caseInsensitive:J.caseInsensitive(),strict:J.strictMode(),squash:J.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,M(r,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/g,"-")}var n=t(e).split(/-(?!\\)/),o=h(n,t);return h(o,r).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var o,i,a,s=this.parameters(),u=s.length,c=this.segments.length-1,l={};if(c!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,p;for(o=0;c>o;o++){for(a=s[o],f=this.params[a],p=n[o+1],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);p&&f.array===!0&&(p=r(p)),V(p)&&(p=f.type.decode(p)),l[a]=f.value(p)}for(;u>o;o++){for(a=s[o],l[a]=this.params[a].value(t[a]),f=this.params[a],p=t[a],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);V(p)&&(p=f.type.decode(p)),l[a]=f.value(p)}return l},g.prototype.parameters=function(e){return V(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),o=this.params;if(!this.validates(e))return null;var i,a=!1,s=r.length-1,u=n.length,c=r[0];for(i=0;u>i;i++){var l=s>i,f=n[i],p=o[f],d=p.value(e[f]),v=p.isOptional&&p.type.equals(p.value(),d),m=v?p.squash:!1,g=p.type.encode(d);if(l){var $=r[i+1],y=i+1===s;if(m===!1)null!=g&&(c+=z(g)?h(g,t).join("-"):encodeURIComponent(g)),c+=$;else if(m===!0){var w=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=$.match(w)[1]}else B(m)&&(c+=m+$);y&&p.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==g||v&&m!==!1)continue;if(z(g)||(g=[g]),0===g.length)continue;g=h(g,encodeURIComponent).join("&"+f+"="),c+=(a?"&":"?")+(f+"="+g),a=!0}}return c},$.prototype.is=function(e,t){return!0},$.prototype.encode=function(e,t){return e},$.prototype.decode=function(e,t){return e},$.prototype.equals=function(e,t){return e==t},$.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},$.prototype.pattern=/.*/,$.prototype.toString=function(){return"{Type:"+this.name+"}"},$.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},$.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return z(e)?e:V(e)?[e]:[]}function i(e){switch(e.length){case 0:return r;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(r){if(z(r)&&0===r.length)return r;r=o(r);var n=h(r,e);return t===!0?0===d(n,a).length:i(n)}}function u(e){return function(t,r){var n=o(t),i=o(r);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!e(n[a],i[a]))return!1;return!0}}this.encode=s(n(e,"encode")),this.decode=s(n(e,"decode")),this.is=s(n(e,"is"),!0),this.equals=u(n(e,"equals")),this.pattern=e.pattern,this.$normalize=s(n(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",_),b.$inject=[],t.module("ui.router.state").provider("$view",b),t.module("ui.router.state").provider("$uiViewScroll",P);var K=t.version.major,G=t.version.minor;S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],j.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",j),k.$inject=["$state","$timeout"],q.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",q),D.$inject=["$state"],T.$inject=["$state"],t.module("ui.router.state").filter("isState",D).filter("includedByState",T)}(window,window.angular)},{}]},{},[1]);