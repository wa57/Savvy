app.controller("home_controller",function(e,o){}),app.controller("login_controller",function(e){e.data={},e.login=function(){LoginService.loginUser(e.data.username,e.data.password).success(function(e){$state.go("tab.dash")}).error(function(e){console.log("hi")})}}),app.controller("nav_controller",function(e,o){e.state=o,e.show_mobile_nav=!1,e.search=function(){""!==e.search_term&&e.search_term&&o.go("search",{search_term:e.search_term})},e.showMobileNav=function(){e.show_mobile_nav?e.show_mobile_nav=!1:e.show_mobile_nav=!0}}),app.controller("product_controller",function(e,o,t){e.product={},e.vote=function(e){},t.get(savvy.api_root+"products/"+o.product_id).success(function(o,t,a,r){console.log(o),e.product=o}),e.initGraph=function(){google.charts.setOnLoadCallback(function(){var e=google.visualization.arrayToDataTable([["Date","Average Price (USD)"],["2004",1e3],["2005",1170],["2006",660],["2007",1030]]),o={curveType:"function",legend:{position:"bottom"}},t=new google.visualization.LineChart(document.getElementById("prices-graph"));t.draw(e,o)})},e.initMap=function(){e.map_status="loading",navigator.geolocation.getCurrentPosition(function(o){e.map_status="success";for(var t=new google.maps.Map(document.getElementById("map"),{center:{lat:o.coords.latitude,lng:o.coords.longitude},scrollwheel:!1,zoom:10}),a=(new google.maps.Marker({map:t,position:{lat:o.coords.latitude,lng:o.coords.longitude},title:"Hello World!"}),0);5>a;a++);})},e.initGraph(),e.initMap()}),app.controller("search_controller",function(e,o,t,a){e.initialize=function(){e.initializeData(),e.initializeOptions()},e.initializeData=function(){e.search_term=o.search_term,e.message="processing",t.get(savvy.api_root+"products/search?query="+e.search_term).success(function(o,t,a,r){e.products=o,e.returned_results_length=e.products.length,e.message="success"}).error(function(o,t,a,r){e.status=t,e.message="error"})},e.initializeOptions=function(){e.order_options=[{name:"average_price",display_name:"Average Price: Low to High",order_reverse:!1},{name:"average_price",display_name:"Average Price: High to Low",order_reverse:!0},{name:"description",display_name:"Product Name: A to Z",order_reverse:!1},{name:"description",display_name:"Product Name: Z to A",order_reverse:!0}],e.chosen_order_item=e.order_options[0],e.orderBy()},e.orderBy=function(){e.order_item=e.chosen_order_item.name,e.order_reverse=e.chosen_order_item.order_reverse},e.initialize()}),app.controller("signup_controller",function(e,o){}),app.controller("submit_controller",function(e,o,t,a,r){e.initialize=function(){e.initializeData(),e.initializeGooglePlaces()},e.submitPrice=function(){e.message="processing";var o=parseInt(100*e.price.toFixed(2));e.product.tags.length>0&&angular.forEach(e.product.tags,function(o,t){e.product.tags[t]=a.replaceAll(o," ","")});var t={product:e.product,business:e.google_places,user:e.makeid(),price:o,product_image:e.image};$http({method:"POST",url:savvy.api_root+"prices/add",data:t,headers:{"Content-Type":"application/json"}}).success(function(o,t,a,r){e.createReceipt(o),e.product={},e.message="success"}).error(function(o,t,a,r){e.status=t,e.message="error"})},e.initializeGooglePlaces=function(){var o=new google.maps.LatLngBounds(new google.maps.LatLng(39.952584,-75.165222),new google.maps.LatLng(39.952584,-75.165222)),t=document.getElementById("places"),a={bounds:o,types:["establishment"]};autocomplete=new google.maps.places.Autocomplete(t,a),google.maps.event.addListener(autocomplete,"place_changed",function(){e.google_places=autocomplete.getPlace(),e.$apply()})},e.makeid=function(){for(var e="testuser",o="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=0;5>t;t++)e+=o.charAt(Math.floor(Math.random()*o.length));return e},e.initializeData=function(){e.tag="",e.product={tags:[]},e.image="",e.receipt={},e.message="",e.messages={tag_message:"",save_message:""},e.google_places="",e.price="",document.getElementById("places").value=""},e.createReceipt=function(o){e.receipt={id:o.id,business:e.google_places.formatted_address,tags:e.product.tags,price:e.price,description:e.product.description}},e.addTag=function(){var o=e.product.tags.indexOf(e.tag);return""==e.tag?void(e.messages.tag_message="error-empty-input"):o>-1?void(e.messages.tag_message="error-already-entered"):(e.product.tags.push(e.tag),e.tag="",void(e.messages.tag_message=""))},e.initialize()});